<view><view class="cu-chat"><block wx:if="{{propHide}}"><view class="prop _div"><view class="box _div"><input class="userIput" type="text" placeholder="请输入用户名" data-event-opts="{{[['input',[['__set_model',['','selfName','$event',[]]]]]]}}" value="{{selfName}}" bindinput="__e"/><button type="primary" data-event-opts="{{[['tap',[['suerName',['$event']]]]]}}" bindtap="__e">确定</button></view></view></block><block wx:if="{{showSound}}"><view class="rprogress _div" id="sound-alert"><view class="rschedule _div"></view><view class="r-sigh _div">!</view><view class="{{['rsalert _div',(moveCancel)?'cancel':'']}}" id="audio_tips">{{moveCancelText}}</view></view></block><scroll-view class="scroll-y" scroll-y="{{true}}" scroll-top="{{scrollTop}}" scroll-with-animation="{{true}}"><view class="chatBox _div"><block wx:for="{{chartPage}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['cu-item',(item.userid==selfName)?'self':'']}}"><block wx:if="{{item.userid==selfName}}"><view class="main"><view class="content bg-green shadow"><text>{{item.content}}</text></view></view></block><block wx:if="{{item.userid!=selfName}}"><view class="cu-avatar radius" style="background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg);"></view></block><block wx:if="{{item.userid!=selfName}}"><view class="main"><view class="content shadow"><text>{{item.content}}</text></view></view></block><block wx:if="{{item.userid==selfName}}"><view class="cu-avatar radius" style="background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg);"></view></block><view class="date">{{item.userid}}</view></view></block></view></scroll-view></view><view class="{{['cu-bar foot input',(showVoice)?'showVoice':'']}}" style="{{'bottom:'+(InputBottom+'px')+';'}}" id="foot"><view data-event-opts="{{[['tap',[['changeStatus',['showVoice']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-sound text-grey"></text></view><block wx:if="{{showVoice}}"><view data-event-opts="{{[['touchstart',[['voiceStart',['$event']]]],['touchend',[['voiceEnd',['$event']]]],['touchmove',[['voiceMove',['$event']]]]]}}" class="voiceSwitch _div" bindtouchstart="__e" bindtouchend="__e" bindtouchmove="__e">{{voiceText}}</view></block><block wx:else><input class="solid-bottom" adjust-position="{{false}}" focus="{{false}}" maxlength="300" data-event-opts="{{[['focus',[['InputFocus',['$event']]]],['blur',[['InputBlur',['$event']]]],['input',[['__set_model',['','userMsg','$event',[]]]]]]}}" value="{{userMsg}}" bindfocus="__e" bindblur="__e" bindinput="__e"/></block><view class="action face"><text class="cuIcon-emojifill text-grey"></text></view><block wx:if="{{isIos}}"><button data-event-opts="{{[['tap',[['sendMsg',['$event']]]]]}}" class="cu-btn bg-green shadow" bindtap="__e">发送</button></block><block wx:else><button data-event-opts="{{[['touchend',[['sendMsg',['$event']]]]]}}" class="cu-btn bg-green shadow" catchtouchend="__e">发送</button></block></view></view>